{
  "use_case_name": "Annotate Laboratory Tests",
  "unique_id": "UC-006",
  "area": "Laboratory Test Management",
  "context_of_use": "The use case describes how a doctor or laboratory technician attaches and manages explanatory notes on existing laboratory tests in order to exchange additional clinical or procedural information.",
  "scope": "Healthcare Information System",
  "level": "User-goal",
  "primary_actors": [
    "doctor",
    "laboratory technician"
  ],
  "supporting_actors": [],
  "stakeholders_and_interests": [
    "Doctor: Wants to attach clear and complete additional clinical information to laboratory tests so that laboratory personnel can perform and interpret the tests correctly.",
    "Laboratory technician: Wants to annotate laboratory tests with clarifications and observations so that doctors can correctly interpret the results.",
    "Patient: Wants the laboratory tests and associated notes to be accurate and clearly communicated so that diagnosis and treatment are appropriate.",
    "Healthcare organization: Wants laboratory test annotations to be traceable and managed consistently to support quality of care and legal compliance.",
    "System administrator: Wants annotation actions to be controlled by access rights to protect the integrity and confidentiality of laboratory test information."
  ],
  "description": "This use case enables doctors and laboratory technicians to attach, view, edit, and logically remove explanatory notes associated with laboratory tests in patient records to support bidirectional communication between clinical and laboratory staff.",
  "triggering_event": "A doctor or laboratory technician decides to add or modify explanatory information for a specific laboratory test.",
  "trigger_type": "External",
  "preconditions": [
    "The doctor or laboratory technician is authenticated in the Healthcare Information System.",
    "The doctor or laboratory technician has sufficient access rights to view the relevant patient’s laboratory tests.",
    "A laboratory test record already exists for the patient in the system.",
    "The system is available and connected to the laboratory test repository."
  ],
  "postconditions": [
    "At least one annotation note is associated with the selected laboratory test, stored persistently in the system.",
    "The newly created or updated annotation note is available for viewing by authorized users according to their access rights.",
    "The system has logged the annotation action with the responsible actor and timestamp for audit purposes."
  ],
  "assumptions": [
    "It is assumed that user authentication is handled by a separate login use case and is completed successfully before this use case starts.",
    "It is assumed that the existence and lifecycle of laboratory tests are managed by separate use cases such as requesting tests and entering results, and this use case only operates on already created test records.",
    "It is assumed that access rights for doctors and laboratory technicians are configured by a system administrator in line with organizational policies and govern who can view or modify annotations.",
    "It is assumed that annotations are textual explanatory notes without embedded images or files, as the requirement text mentions only attaching notes.",
    "It is assumed that both doctors and laboratory technicians can add and update their own notes on laboratory tests they can access, as the user stories are symmetrical regarding attaching notes.",
    "It is assumed that annotations are logically removable by marking them as inactive or deleted while retaining them in the audit trail, to avoid permanent data loss while allowing correction of mistakes.",
    "It is assumed that time stamps and author identification for each annotation are automatically recorded by the system when the annotation is created or modified, to support traceability.",
    "It is assumed that the same basic annotation mechanism is used regardless of whether the laboratory test status is pending, in progress, or completed."
  ],
  "requirements_met": [
    "The system shall allow a doctor to attach textual notes to a selected laboratory test in order to supply laboratory personnel with additional information.",
    "The system shall allow a laboratory technician to attach textual notes to a selected laboratory test in order to supply doctors with additional information.",
    "The system shall associate each annotation note with a specific laboratory test and patient record so that it can be retrieved in the appropriate clinical context.",
    "The system shall display existing annotations for a selected laboratory test to authorized users with access to that test.",
    "The system shall allow authorized doctors and laboratory technicians to modify previously created annotation notes for laboratory tests.",
    "The system shall allow authorized doctors and laboratory technicians to logically remove an existing annotation note from active display while preserving it for audit logging.",
    "The system shall record the author, timestamp, and laboratory test reference whenever an annotation note is created, modified, or logically removed.",
    "The system shall enforce existing access control rules when doctors and laboratory technicians attempt to create, view, modify, or remove annotation notes on laboratory tests."
  ],
  "priority": "High",
  "risk": "Medium",
  "outstanding_issues": [
    "The maximum allowed length and formatting constraints of annotation notes have not been defined.",
    "The policy regarding who may edit or logically remove annotations created by another user has not been specified.",
    "The visibility rules for annotations across different roles (for example, whether patients may see these notes) have not been clarified.",
    "The required language or localization support for annotation notes has not been defined.",
    "The retention period and detailed audit requirements for historical annotation versions have not been specified."
  ],
  "main_flow": [
    "1. Doctor or laboratory technician selects a patient record and the relevant laboratory test from the list of available tests → System displays the selected laboratory test details, including any existing annotations visible to the actor.",
    "2. Doctor or laboratory technician initiates the action to add a new annotation to the selected laboratory test → System presents an input interface for entering a new annotation note associated with the laboratory test.",
    "3. Doctor or laboratory technician enters the annotation text and confirms the entry → System validates the annotation data format and prepares the annotation for storage.",
    "4. Doctor or laboratory technician submits the annotation for saving → System stores the annotation linked to the laboratory test and patient record, records the author and timestamp, and updates the laboratory test record.",
    "5. System refreshes the laboratory test view → System displays the updated list of annotations for the laboratory test, including the newly added annotation and its metadata to the doctor or laboratory technician."
  ],
  "alternative_flows": [
    "AF-1 (from Step 2): Doctor or laboratory technician chooses to edit an existing annotation instead of adding a new one. The actor selects an existing annotation from the displayed list and initiates an edit action. The system presents the annotation content in an editable form. The actor updates the annotation text and confirms the change. The system validates the updated content, stores the modified annotation with an updated timestamp while preserving the previous version in the audit trail, and redisplays the list of annotations with the updated content. The flow then continues as in Step 5 of the main flow.",
    "AF-2 (from Step 2): Doctor or laboratory technician chooses to logically remove an existing annotation instead of adding a new one. The actor selects an existing annotation and initiates a remove action. The system requests confirmation from the actor to proceed with the removal. Upon confirmation, the system marks the annotation as logically removed, records the action with author and timestamp, excludes it from the default active annotation list, and refreshes the displayed annotations. The flow then continues as in Step 5 of the main flow."
  ],
  "exception_flows": [
    "EF-1 (from Step 1): The selected laboratory test record cannot be retrieved due to being unavailable or access-restricted. The system displays an error message indicating that the laboratory test cannot be accessed and does not allow annotation actions for that test. The use case ends without creating, modifying, or removing any annotations.",
    "EF-2 (from Step 3): The entered annotation text violates validation rules such as exceeding maximum length or containing prohibited characters. The system rejects the annotation submission, highlights the validation problems, and prompts the doctor or laboratory technician to correct the annotation data. The flow returns to Step 3 when the actor reenters the annotation.",
    "EF-3 (from Step 4): A system failure or persistence error occurs while storing the annotation. The system notifies the doctor or laboratory technician that the annotation could not be saved and logs the error for technical review. No partial annotation data is committed, and the actor may choose to retry from Step 4 or cancel the operation, in which case the use case ends without changes."
  ],
  "information_for_steps": [
    "1. Patient identifier, laboratory test identifier, laboratory test status, existing annotation list.",
    "2. Laboratory test identifier, annotation creation request, available annotation actions (add, edit, remove).",
    "3. Annotation text content, actor identifier, basic validation rules for annotation format.",
    "4. Annotation record (text, author identifier, laboratory test identifier, patient identifier, timestamp), persistence operation result.",
    "5. Updated annotation list, annotation metadata (author, timestamp, active status)."
  ]
}