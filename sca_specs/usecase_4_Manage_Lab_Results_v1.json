{
  "use_case_name": "Manage Lab Results",
  "unique_id": "UC-004",
  "area": "Laboratory Management",
  "context_of_use": "This use case describes how a lab specialist manages laboratory test results by viewing ordered tests, uploading and annotating results, and linking them to the correct patient medical record so that patients can subsequently view their lab results within their medical record.",
  "scope": "Digital Medical Record System",
  "level": "User-goal",
  "primary_actors": [
    "lab specialist"
  ],
  "supporting_actors": [
    "patient"
  ],
  "stakeholders_and_interests": [
    "Lab specialist: Wants to easily view requested medical tests, upload results, annotate them, and correctly link them to patient medical records in a single system.",
    "Patient: Wants to have all lab test results available in the medical record as a single consolidated document that is easy to access.",
    "Doctor: Wants uploaded lab results and notes to be correctly linked to the patient medical record to support diagnosis and treatment decisions.",
    "Healthcare organization: Wants lab results to be consistently stored, linked, and visible in the medical record to support continuity of care and record completeness.",
    "System administrator: Wants the management of lab results to comply with security, privacy, and availability constraints."
  ],
  "description": "The use case defines how a lab specialist views requested medical tests, uploads the corresponding lab results, optionally adds explanatory notes, and links each result to the appropriate patient medical record so that the patient can later view the lab test results in the medical record.",
  "triggering_event": "A lab specialist decides to process one or more requested medical tests by accessing the system.",
  "trigger_type": "External",
  "preconditions": [
    "The lab specialist has an active user account in the Digital Medical Record System.",
    "The lab specialist is successfully authenticated in the Digital Medical Record System.",
    "At least one medical test has been ordered for a patient in the Digital Medical Record System.",
    "The patient has an existing medical record in the Digital Medical Record System."
  ],
  "postconditions": [
    "The selected lab test has an associated lab result stored in the Digital Medical Record System.",
    "The uploaded lab result is linked to the correct patient medical record.",
    "Any note entered by the lab specialist for the lab result is stored with the lab result in the patient’s medical record.",
    "The patient’s medical record includes the new lab test result and makes it available for viewing by the patient.",
    "The status of the requested medical test reflects that the result has been recorded in the Digital Medical Record System."
  ],
  "assumptions": [
    "It is assumed that the ordering of medical tests by doctors is handled in the separate \"order medical tests\" use case, which completes successfully before the lab specialist manages the corresponding results.",
    "It is assumed that access to patient medical records, including retrieval of patient and test information, is handled in the separate \"access medical records\" use case, which is invoked during this flow.",
    "It is assumed that the lab specialist has the necessary authorization to view requested medical tests and to upload and annotate lab results for those tests.",
    "It is assumed that the system already stores a mapping between ordered medical tests and the corresponding patient medical records so that linking can be performed based on existing data.",
    "It is assumed that the patient is allowed to view lab test results that are linked to their medical record once the results are stored.",
    "It is assumed that the lab specialist has access to the finalized lab result data from external lab equipment or processes before uploading to the Digital Medical Record System.",
    "It is assumed that the Digital Medical Record System provides a user interface appropriate for a lab specialist to select tests, upload result files or values, and enter textual notes.",
    "It is assumed that this use case does not define or change any access control rules for doctors or other roles beyond making lab results part of the medical record."
  ],
  "requirements_met": [
    "The system shall allow a lab specialist to view requested medical tests so that the lab specialist can start working on them.",
    "The system shall allow a lab specialist to upload lab test results to the corresponding patient’s medical record so that the assigned doctor and the patient can see the results.",
    "The system shall allow a lab specialist to add a note to the lab test results so that the doctor can have a better understanding of the results.",
    "The system shall allow a lab specialist to link a lab test with a patient’s medical record so that all related information can be contained in one document.",
    "The system shall allow a patient to view their lab test results as part of their medical record so that all information is available in a single document."
  ],
  "priority": "High",
  "risk": "Medium",
  "outstanding_issues": [
    "The policy for when lab results become visible to the patient (immediately upon upload or after doctor review) is not specified.",
    "The format and size constraints for uploaded lab results (e.g., structured data, images, PDFs) are not defined.",
    "The behavior when multiple lab results exist for the same ordered test (e.g., repeated tests or corrected results) is not clarified.",
    "Retention and deletion policies for lab results and associated notes in the patient medical record are not defined.",
    "Error handling behavior for partially completed uploads or network interruptions during upload is not detailed."
  ],
  "main_flow": [
    "1. Lab specialist selects the option to access laboratory worklist → System invokes the included \"order medical tests\" functionality to retrieve the list of requested medical tests assigned to the lab specialist.",
    "2. Lab specialist views the list of requested medical tests → System displays the requested medical tests with associated identifiers and basic details.",
    "3. Lab specialist selects a specific requested medical test to process → System invokes the included \"access medical records\" functionality to retrieve the corresponding patient medical record context for the selected test.",
    "4. Lab specialist reviews the patient identification and test details for the selected request → System displays the patient identifiers and the ordered test information associated with the selected request.",
    "5. Lab specialist initiates lab result entry for the selected test → System presents an interface to provide lab result data and optional notes for the selected test.",
    "6. Lab specialist provides the lab result data for the selected test → System validates the provided lab result data according to predefined data and format rules.",
    "7. Lab specialist optionally enters a note to accompany the lab test result → System associates the note text with the lab test result being recorded.",
    "8. Lab specialist confirms submission of the lab test result and any associated note → System stores the lab test result and the note in the laboratory results repository.",
    "9. System links the stored lab test result to the corresponding patient medical record → System updates the patient medical record so that the new lab test result and any note are included in the record.",
    "10. System confirms successful storage and linkage of the lab test result → System indicates that the lab test result is now available as part of the patient’s medical record for viewing by authorized users, including the patient.",
    "11. Lab specialist chooses to return to the list of requested medical tests or end the session → System either displays the updated list of requested medical tests or terminates the session according to the lab specialist’s choice."
  ],
  "alternative_flows": [
    "AF-1 (from Step 7): Lab specialist decides not to enter a note for the lab test result. Condition: The lab specialist considers the lab result self-explanatory and skips the note field. The lab specialist proceeds directly from providing lab result data to confirming submission. The flow continues at Step 8 with submission of the lab test result without an associated note.",
    "AF-2 (from Step 2): Lab specialist filters or sorts the list of requested medical tests. Condition: The lab specialist wants to focus on specific tests (e.g., by date or patient). The lab specialist applies filter or sort options on the displayed list of requested medical tests. The system updates the list display according to the chosen filter or sort criteria. The flow then continues at Step 3 when the lab specialist selects a specific requested medical test to process.",
    "AF-3 (from Step 11): Lab specialist chooses to process another test directly. Condition: The lab specialist wants to continue working without returning to the main menu. From the confirmation page, the lab specialist selects an option to process another requested medical test. The system displays the list of requested medical tests as in Step 2, and the flow continues at Step 2."
  ],
  "exception_flows": [
    "EF-1 (from Step 1): No requested medical tests are available. Condition: The included \"order medical tests\" functionality returns an empty list for the lab specialist. The system informs the lab specialist that there are currently no requested medical tests to process and does not display a worklist. The use case ends without any lab result being uploaded or linked.",
    "EF-2 (from Step 3): The system cannot retrieve the patient medical record for the selected test. Condition: The included \"access medical records\" functionality fails to return the patient medical record (for example, due to missing linkage or temporary unavailability). The system notifies the lab specialist that the patient medical record cannot be accessed for the selected test and does not allow result entry for that test. The lab specialist may return to the list of requested tests, and the use case continues at Step 2 for a different test or ends.",
    "EF-3 (from Step 6): Provided lab result data fails validation. Condition: The lab specialist enters lab result data that does not satisfy the system’s format or data validation rules. The system rejects the invalid lab result data, displays validation error messages, and prompts the lab specialist to correct the data. The flow returns to Step 6 after correction attempts. If the lab specialist cancels the operation, the system discards the entered data and returns to the view of the selected test as in Step 4.",
    "EF-4 (from Step 8): System error occurs while storing the lab test result. Condition: A technical failure occurs during storage of the lab result or note. The system informs the lab specialist that the lab test result could not be stored and that the operation must be retried later. The system does not update the patient medical record linkage. The flow returns to Step 5 if the lab specialist chooses to retry, or the use case ends for the affected test if the lab specialist cancels.",
    "EF-5 (from Step 9): System error occurs while linking the lab test result to the patient medical record. Condition: The result has been stored but cannot be linked to the medical record due to an internal error. The system informs the lab specialist that the result is stored but not yet linked to the patient medical record and flags the result for administrative follow-up. The system does not update the patient medical record. The use case ends for the affected test with an unresolved linkage that requires out-of-band resolution."
  ],
  "information_for_steps": [
    "1. Lab specialist identifier, session token, list of requested medical tests, test identifiers.",
    "2. Requested medical test list, test identifiers, patient identifiers (summary), test priority or type.",
    "3. Selected test identifier, associated patient identifier, reference to patient medical record.",
    "4. Patient identification data (e.g., name, ID), ordered test details (e.g., test type, request date, ordering doctor).",
    "5. Selected test identifier, input fields for lab result data, input field for optional note, user interface state.",
    "6. Lab result data values, validation rules, acceptable ranges and formats.",
    "7. Optional note text, association between note text and lab result record.",
    "8. Confirmation command from lab specialist, lab result data payload, optional note payload.",
    "9. Lab result record identifier, patient medical record identifier, linkage metadata between result and record.",
    "10. Status of lab test result (e.g., recorded), confirmation message, visibility flags for patient access.",
    "11. Updated list of requested medical tests, session state, navigation choice of lab specialist."
  ]
}